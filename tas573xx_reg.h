/*
 * TAS573x Class D Amp register header
 *
 * Copyright (C) 2021 Nicolò Veronese
 *
 * Author: Nicolò Veronese <nicveronese@gmail.com>
 *
 * This program is free software; you can redistribute it and/or modify it
 * under the terms and conditions of the GNU General Public License,
 * version 2, as published by the Free Software Foundation.
 */
#ifndef _TAS5731_REG_H_
#define _TAS5731_REG_H_

#define BIT(nr) (0x01 << (nr))

/* Register definitions */
#define TAS571X_CLK_CTRL_REG 0x00
#define TAS571X_DEV_ID_REG 0x01
#define TAS571X_ERR_STATUS_REG 0x02
#define TAS571X_SYS_CTRL_1_REG 0x03
#define TAS571X_SDI_REG 0x04
#define TAS571X_SYS_CTRL_2_REG 0x05
#define TAS571X_SOFT_MUTE_REG 0x06
#define TAS571X_MVOL_REG 0x07
#define TAS571X_CH1_VOL_REG 0x08
#define TAS571X_CH2_VOL_REG 0x09
#define TAS571X_CH3_VOL_REG 0x0a

#define TAS571X_VOL_CFG_REG 0x0e

#define TAS571X_MODULATION_LIMIT_REG 0x10
#define TAS571X_IC_DELAY_PWM_A_REG 0x11
#define TAS571X_IC_DELAY_PWM_B_REG 0x12
#define TAS571X_IC_DELAY_PWM_C_REG 0x13
#define TAS571X_IC_DELAY_PWM_D_REG 0x14

/* N/A on TAS5717, TAS5719 */
#define TAS571X_PWM_CH_SDN_GROUP_REG 0x19

#define TAS571X_START_STOP_PERIOD_REG 0x1a
#define TAS571X_OSC_TRIM_REG 0x1b
#define TAS571X_BKND_ERR_REG 0x1c
#define TAS571X_INPUT_MUX_REG 0x20
#define TAS571X_CH4_SRC_SELECT_REG 0x21
#define TAS571X_PWM_MUX_REG 0x25

/* 20-byte biquad registers */
#define TAS5707_CH1_BQ0_REG 0x29
#define TAS5707_CH1_BQ1_REG 0x2a
#define TAS5707_CH1_BQ2_REG 0x2b
#define TAS5707_CH1_BQ3_REG 0x2c
#define TAS5707_CH1_BQ4_REG 0x2d
#define TAS5707_CH1_BQ5_REG 0x2e
#define TAS5707_CH1_BQ6_REG 0x2f

#define TAS5707_CH2_BQ0_REG 0x30
#define TAS5707_CH2_BQ1_REG 0x31
#define TAS5707_CH2_BQ2_REG 0x32
#define TAS5707_CH2_BQ3_REG 0x33
#define TAS5707_CH2_BQ4_REG 0x34
#define TAS5707_CH2_BQ5_REG 0x35
#define TAS5707_CH2_BQ6_REG 0x36

#define TAS5717_CH1_BQ10_REG 0x58
#define TAS5717_CH1_BQ11_REG 0x59

#define TAS5717_CH4_BQ0_REG 0x5a
#define TAS5717_CH4_BQ1_REG 0x5b

#define TAS5717_CH2_BQ10_REG 0x5c
#define TAS5717_CH2_BQ11_REG 0x5d

#define TAS5717_CH3_BQ0_REG 0x5e
#define TAS5717_CH3_BQ1_REG 0x5f

/* TAS571X_CLK_CTRL_REG */

#define TAS571X_SYS_CTRL_RATE_SHIFT 5
#define TAS571X_SYS_CTRL_RATE_MASK 0xE0
#define TAS571X_SYS_CTRL_MCLK_SHIFT 2
#define TAS571X_SYS_CTRL_MCLK_MASK 0x1C

/* TAS571X_ERR_STATUS_REG */

#define TAS571X_ERR_STATUS_MCLK_MASK BIT(7)
#define TAS571X_ERR_STATUS_PLL_MASK BIT(6)
#define TAS571X_ERR_STATUS_SCLK_MASK BIT(5)
#define TAS571X_ERR_STATUS_LRCLK_MASK BIT(4)
#define TAS571X_ERR_STATUS_FSLIP_MASK BIT(3)
#define TAS571X_ERR_STATUS_CLIP_MASK BIT(2)
#define TAS571X_ERR_STATUS_OVERx_MASK BIT(1)

/* TAS571X_SYS_CTRL_1_REG */

#define TAS571X_SYS_CTRL_1_DC_MASK BIT(7)
#define TAS571X_SYS_CTRL_1_MCR_MASK BIT(7)
#define TAS571X_SYS_CTRL_1_DEEPH_MASK 0x03

/* TAS571X_SYS_CTRL_2_REG */
#define TAS571X_SYS_CTRL_2_ADR_FAULT_MASK BIT(1)
#define TAS571X_SYS_CTRL_2_CH_MODE_MASK BIT(2)
#define TAS571X_SYS_CTRL_2_SUB_MODE_MASK BIT(3)
#define TAS571X_SYS_CTRL_2_SDN_MASK BIT(6)

/* TAS571X_SDI_REG */
#define TAS571X_SDI_FMT_MASK 0x0F

/* TAS571X_SOFT_MUTE_REG */

#define TAS571X_SOFT_MUTE_CH1_MASK BIT(0)
#define TAS571X_SOFT_MUTE_CH2_MASK BIT(1)
#define TAS571X_SOFT_MUTE_CH3_MASK BIT(2)

/* TAS571X_VOL_CFG_REG */
#define TAS571X_VOL_CFG_REG_CH4_MASK BIT(6)
#define TAS571X_VOL_CFG_REG_CH3_MASK BIT(5)

/* TAS571X_PWM_CH_SDN_GROUP_REG */
#define TAS571X_PWM_CH1_SDN_MASK (1 << 0)
#define TAS571X_PWM_CH2_SDN_SHIFT (1 << 1)
#define TAS571X_PWM_CH3_SDN_SHIFT (1 << 2)
#define TAS571X_PWM_CH4_SDN_SHIFT (1 << 3)

/* TAS571X_INPUT_MUX_REG */
#define TAS571X_INPUT_MUX_CHAN1_MODE_MASK BIT(23)
#define TAS571X_INPUT_MUX_CHAN2_MODE_MASK BIT(19)

#define TAS571X_INPUT_MUX_CHAN1_ROUTE_SHIFT 20
#define TAS571X_INPUT_MUX_CHAN1_ROUTEMASK 0x3 << TAS571X_INPUT_MUX_CHAN1_ROUTE_SHIFT
#define TAS571X_INPUT_MUX_CHAN2_ROUTE_SHIFT 16
#define TAS571X_INPUT_MUX_CHAN2_ROUTEMASK 0x3 << TAS571X_INPUT_MUX_CHAN2_ROUTE_SHIFT

/* TAS571X_CH4_SRC_SELECT_REG */
#define TAS571X_CH4_SRC_SELECT_SHIFT 8
#define TAS571X_CH4_SRC_SELECT_MASK 0x3 << TAS571X_CH4_SRC_SELECT_SHIFT

#endif /* _TAS571X_H */